{"version":3,"sources":["uni-app:///src/main.js",null,"webpack:///./src/pages/template/index.vue?6825","webpack:///./src/pages/template/index.vue?3692","webpack:///./src/pages/template/index.vue?f85a","uni-app:///src/pages/template/index.vue","webpack:///./src/pages/template/index.vue?c2df","webpack:///./src/pages/template/index.vue?d168"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5DA;AAAA;AAAA;AAAA;AAAkc,CAAgB,8dAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0Etd;;AACA;eACA;AACA,MADA,kBACA;AACA;AACA,kBADA;AAEA,mBAFA;AAGA,qBAHA;AAIA,oBAJA;AAKA,sBALA;AAMA,gBANA;AAOA,qBAPA;AAQA,kBARA;AASA,kBATA;AAUA,qBAVA;AAWA,qBAXA;AAYA,cAZA;AAaA,uBAbA;AAcA,kBAdA;AAeA;AACA,wBADA;AAEA;AAFA;AAfA;AAoBA,GAtBA;AAuBA;AACA,SADA,iBACA,CADA,EACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AATA;AAWA;AAbA,GAvBA;AAsCA,QAtCA,oBAsCA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA,2BADA;AAEA;AAFA;AAIA,GAhDA;AAiDA;AACA,YADA,sBACA;AAAA;;AACA;AACA,qBADA;AAEA;AACA;AACA;AACA;;AACA;AACA;AAPA;AASA,KAXA;AAYA,UAZA,oBAYA;AAAA;;AACA;AACA,sEADA;AAEA;AACA;AACA;AACA;;AACA;;AACA;AACA,SARA;AASA;AACA;AACA;AAXA;AAaA,KA1BA;AA2BA;AACA,cA5BA,wBA4BA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AALA;AAOA,KAtCA;AAuCA,QAvCA,gBAuCA,CAvCA,EAuCA;AAAA;AAAA,KAvCA;AAwCA;AACA,YAzCA,oBAyCA,IAzCA,EAyCA;AACA;AACA;AACA;AACA;AACA;AACA,KA/CA;AAgDA;AACA;AACA;AACA,kBAnDA,4BAmDA;AAAA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AADA;AAGA;AACA,mFADA;AAEA;AACA,kCADA;AAEA,kCAFA;AAGA,0BAHA;AAIA;AAJA,SAFA;AAQA;AACA;;AACA;AACA;AACA,iCADA;AAEA,4BAFA;AAGA;AAHA;AAKA;AACA;AACA;AACA;AACA;;AACA;AAAA;AAAA;AACA,2DAdA,CAeA;;AAfA,qDAgBA,kBAhBA;AAAA;;AAAA;AAgBA;AAAA;;AACA;;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AAEA;AACA;AA3BA;AAAA;AAAA;AAAA;AAAA;;AA4BA,6CA5BA,CA6BA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AA7CA;AA+CA,KA3GA;AA4GA;AACA,WA7GA,qBA6GA;AAAA;;AACA;AACA;AACA;AACA,oDADA;AAEA;AACA,oCADA;AAEA,wBAFA;AAGA;AAHA,SAFA;AAOA;AACA;AACA;AACA;AACA;AAXA;AAaA,KA7HA;AA8HA;AACA,cA/HA,wBA+HA;AAAA;;AACA;AACA,sHADA;AAEA;AACA;AACA;AAJA;AAMA,KAtIA;AAuIA;AACA,aAxIA,qBAwIA,CAxIA,EAwIA;AAAA;;AACA,+EADA,CAEA;;AACA;AACA,4EADA;AAEA;AACA,kCADA;AAEA,kCAFA;AAGA,iCAHA;AAIA,kBAJA;AAKA,0BALA;AAMA;AANA,SAFA;AAUA;AACA,0CADA,CAEA;AACA;;AACA;AACA;AACA,uBANA,CAOA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AAXA,WARA,CAqBA;;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AAdA;;AAgBA;AACA;AAjDA;AAmDA,KA9LA;AA+LA;AACA,cAhMA,sBAgMA,IAhMA,EAgMA,OAhMA,EAgMA;AACA;AACA;AACA;AACA;AADA,SADA;AAIA;AACA;AADA,SAJA;AAOA;AACA;AADA,SAPA;AAUA;AACA;AADA,SAVA;AAaA;AACA;AADA;AAbA;AAiBA;AACA,mBADA;AAEA,qBAFA;AAGA,oBAHA;AAIA,mBAJA;AAKA,2BALA;AAMA,wBANA;AAOA,mBAPA;AAQA,mBARA;AASA;AATA;AAWA;AACA,kBA/BA,CAgCA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AAXA,OAjCA,CA8CA;;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AAdA;;AAgBA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,iBAFA;AAGA,kBAHA;AAIA,2BAJA;AAKA,4BALA;AAMA,yBANA;AAOA;AAPA;AASA;AA5QA;AAjDA,C;;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAm4B,CAAgB,82BAAG,EAAC,C;;;;;;;;;;ACAv5B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/template/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/template/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=06259d94&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/template/index.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=06259d94&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.showInfo && !_vm.newsShow && _vm.riskInfo\n      ? _vm.__map(_vm.riskInfo.patient_list, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m0 = _vm.sortTime(item.sort_time)\n          return {\n            $orig: $orig,\n            m0: m0\n          }\n        })\n      : null\n  var m1 =\n    _vm.showInfo && _vm.newsShow\n      ? _vm.sortTime(_vm.introductions.updateTime)\n      : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.locus = 0\n    }\n\n    _vm.e1 = function($event) {\n      _vm.locus = 1\n    }\n\n    _vm.e2 = function($event) {\n      _vm.locus = 2\n    }\n\n    _vm.e3 = function($event) {\n      _vm.newsShow = false\n    }\n\n    _vm.e4 = function($event) {\n      _vm.newsShow = true\n    }\n\n    _vm.e5 = function($event) {\n      _vm.showInfo = !_vm.showInfo\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        m1: m1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"content\">\r\n    <map\r\n      :latitude=\"latitude\"\r\n      :longitude=\"longitude\"\r\n      scale=\"10\"\r\n      :markers=\"marker\"\r\n      enable-poi\r\n      show-compass\r\n      include-points\r\n      show-location\r\n      @markertap=\"markertap\"\r\n    >\r\n    <!-- 位置定位 -->\r\n    <cover-view class=\"search\">\r\n      <button class=\"city-name\" @click=\"chooseCity\"><cover-view>{{cityName}}</cover-view></button>\r\n      <button :class=\"['all', locus == 0 ? 'selected' : '']\" @click=\"locus = 0\">全部轨迹点</button>\r\n      <button :class=\"['day7', locus == 1 ? 'selected' : '']\" @click=\"locus = 1\">7天轨迹点</button>\r\n      <button :class=\"['day14', locus == 2 ? 'selected' : '']\" @click=\"locus = 2\">14天轨迹点</button>\r\n    </cover-view>\r\n    \r\n      <!-- 详情 -->\r\n      <cover-view class=\"cover-info\" v-if=\"showInfo\">\r\n        <!-- 切换 -->\r\n        <cover-view class=\"tabs\">\r\n          <button :class=\"newsShow ? '' : 'selected'\" @click=\"newsShow = false\">患者轨迹</button>\r\n          <button :class=\"newsShow ? 'selected' : ''\" @click=\"newsShow = true\">本市概况</button>\r\n        </cover-view>\r\n        <!-- 关闭 -->\r\n        <button class=\"close\" @click=\"showInfo = !showInfo\"></button>\r\n        <cover-view class=\"content\" v-if=\"!newsShow\">\r\n          <!-- 地点 -->\r\n          <cover-view class=\"header\" v-if=\"riskInfo\">\r\n            <cover-view class=\"h1\">{{riskInfo.poi_name}} <cover-view class=\"mark\">{{riskType}}</cover-view></cover-view>\r\n            <cover-view class=\"h3\">{{riskInfo.city}}{{riskInfo.area_name}}{{riskInfo.township}}</cover-view>\r\n          </cover-view>\r\n          <!-- 病患轨迹 -->\r\n          <cover-view class=\"ul\" v-if=\"riskInfo\">\r\n            <cover-view class=\"title\" v-if=\"riskInfo.patient_list.length > 0\"><cover-view >共有</cover-view><cover-view class=\"manlen\">{{riskInfo.patient_list.length}}</cover-view><cover-view>人确诊</cover-view></cover-view>\r\n            <cover-view class=\"title-no\" v-if=\"riskInfo.patient_list.length <= 0\">暂未公布</cover-view>\r\n            <cover-view class=\"li\" v-for=\"(item, index) in riskInfo.patient_list\" :key=\"item.patient_id\">\r\n              <cover-view class=\"man-info\">\r\n              {{index+1}}. 患者： {{item.base_info}} {{sortTime(item.sort_time)}}确诊\r\n              </cover-view>\r\n              <cover-view class=\"p\">{{item.extra_info}}</cover-view>\r\n              <cover-view class=\"track-list\">\r\n                <cover-view class=\"track\" v-for=\"(track,i) in item.track_list\" :key=\"`track${index}${i}`\">\r\n                  <cover-view class=\"timer\">{{track.poi_time_text}}</cover-view><cover-view>{{track.poi_text}}</cover-view>\r\n                </cover-view>\r\n              </cover-view>\r\n            </cover-view>\r\n          </cover-view>\r\n          <cover-view class=\"nothing\" v-if=\"!riskInfo\">暂无轨迹公布~</cover-view>\r\n        </cover-view>\r\n        <!-- 全市疫情概况 -->\r\n        <cover-view class=\"content\" v-if=\"newsShow\">\r\n          <cover-view class=\"h1 h1-title\">全市疫情概况</cover-view>\r\n          <cover-view class=\"hine\">非实时更新，根据国家卫健委每日通报更新</cover-view>\r\n          <cover-view class=\"introduction\">\r\n            <cover-view class=\"zone\">{{sortTime(introductions.updateTime)}} {{introductions.provinceName}}{{introductions.cityName}}</cover-view>\r\n            <cover-view class=\"treat\">现有确诊：{{introductions.series[0].treatingNum}} 治愈人数：{{introductions.series[0].curesNum}} 死亡人数：{{introductions.series[0].deathsNum}} 累计确诊：{{introductions.series[0].confirmedNum}} </cover-view>\r\n          </cover-view>\r\n          <cover-view v-for=\"(item,i) in trending\" :key=\"i\" class=\"confirmed-view\">\r\n            <cover-view class=\"city-name\">{{item.name}}</cover-view>\r\n            <cover-view class=\"new-num\">新增：{{(item.confirmed_incr < 0) ? confirmIdincr[item.confirmed_incr] : item.confirmed_incr}}</cover-view>\r\n            <cover-view class=\"confirmed\">累计：{{item.confirmed_count}}</cover-view>\r\n          </cover-view>\r\n        </cover-view>\r\n      </cover-view>\r\n    </map>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nconst QQMapWX = require('../../static/qqmap-wx-jssdk.js');\r\nvar qqmapsdk;\r\nexport default {\r\n  data() {\r\n    return {\r\n      latitude: '',\r\n      longitude: '',\r\n      cityName: '北京市',\r\n      cityCode: null,\r\n      riskName: '全部轨迹',\r\n      marker:[],\r\n      cityMarkers:{},\r\n      riskInfo: {},\r\n      riskType: '',\r\n      showInfo: false,\r\n      newsShow: false,\r\n      locus: 0,\r\n      introductions: [],\r\n      trending: [],\r\n      confirmIdincr:{\r\n        '-123456': '未公布',\r\n        '-1': 0\r\n      }\r\n    };\r\n  },\r\n  watch:{\r\n    locus(l){\r\n      switch (l) {\r\n        case 0:\r\n          this.marker = this.cityMarkers[this.cityCode].allMarker\r\n          break;\r\n        case 1:\r\n          this.marker = this.cityMarkers[this.cityCode].day7\r\n          break;\r\n        case 2:\r\n          this.marker = this.cityMarkers[this.cityCode].day14\r\n          break;\r\n      }\r\n    }\r\n  },\r\n  onLoad() {\r\n    // console.log(QQMapWX);\r\n    qqmapsdk = new QQMapWX({\r\n        key: 'NERBZ-3PPKW-5CKRY-OWRKI-Q4VCJ-UXBZT'\r\n    });\r\n    this.getLocal()\r\n    wx.showShareMenu({\r\n      withShareTicket: true,\r\n      menus: ['shareAppMessage', 'shareTimeline']\r\n    })\r\n  },\r\n  methods: {\r\n    getLocal() {\r\n      uni.getLocation({\r\n        type: 'gcj02',\r\n        success:  (res)=> {\r\n          console.log(res);\r\n          this.latitude = res.latitude\r\n          this.longitude = res.longitude\r\n          this.search()\r\n        },\r\n      });\r\n    },\r\n    search() {\r\n      qqmapsdk.reverseGeocoder({\r\n        location: `${this.latitude},${this.longitude}`,\r\n        success: (res)=> {\r\n          const data = res.result.ad_info\r\n          this.cityCode = data.city_code.replace(data.nation_code,'')\r\n          this.cityName = data.city\r\n          this.getCityInfoFun()\r\n          this.getNews()\r\n        },\r\n        fail: (res)=> {\r\n          console.log(res);\r\n        }\r\n      });\r\n    },\r\n    // 选择其他城市\r\n    chooseCity(){\r\n      this.newsShow = false\r\n      this.showInfo = false\r\n      uni.chooseLocation({\r\n        success: (res)=> {\r\n          this.latitude = res.latitude\r\n          this.longitude = res.longitude\r\n          this.search()\r\n        }\r\n      });\r\n    },\r\n    add0(m){return m<10?'0'+m:m },\r\n    // 确诊时间\r\n    sortTime(time){\r\n      const date = new Date(time*1000);\r\n      const y = date.getFullYear();\r\n      const m = date.getMonth()+1;\r\n      const d = date.getDate();\r\n      return `${y}年${this.add0(m)}月${this.add0(d)}`\r\n    },\r\n    // 获取地图全部数据\r\n    // track_type 轨道等级 2为路过  1为确诊地点\r\n    // risk_level 风险等级 3为高风险  2位中风险  1为低风险   0为无风险地\r\n    getCityInfoFun(){\r\n      // 已查询过\r\n      if(this.cityMarkers[this.cityCode] && this.cityMarkers[this.cityCode].allMarker){\r\n        this.marker = this.cityMarkers[this.cityCode].allMarker\r\n        return\r\n      }\r\n      uni.showLoading({\r\n          title: '加载中'\r\n      });\r\n      uni.request({\r\n          url: 'https://i.snssdk.com/toutiao/normandy/pneumonia_trending/track_list/',\r\n          data:{\r\n            city_code: this.cityCode,\r\n            city_name: this.cityName,\r\n            activeWidget: 15,\r\n            show_poi_list: 1\r\n          },\r\n          success: (res)=> {\r\n            uni.hideLoading();\r\n            if(res.data.data.list.length <= 0){\r\n              uni.showToast({\r\n                  title: '暂时未公布详细轨迹~',\r\n                  duration: 3000,\r\n                  icon: 'none'\r\n              });\r\n              this.riskInfo = null\r\n              this.showInfo = true\r\n              this.newsShow = true\r\n              return\r\n            }\r\n            let riskArr = [],day14 = [], day7 = [];\r\n            const time = parseInt(new Date().getTime()/1000)\r\n            // 风险地点\r\n            for (const riskObj of res.data.data.list) {\r\n              const o = this.pushMarker(riskObj,riskArr)\r\n              const poiDay = Math.floor((time - riskObj.create_ts)/24/60/60)\r\n              if(poiDay <= 7){\r\n                day7.push(o)\r\n              }\r\n              if(poiDay <= 14){\r\n                day14.push(o)\r\n              }\r\n\r\n              riskArr.push(o)\r\n            }\r\n            this.marker = [...riskArr]\r\n            // 存入全部数据\r\n            if(!this.cityMarkers[this.cityCode]){\r\n              this.cityMarkers[this.cityCode] = {}\r\n            }\r\n            this.cityMarkers[this.cityCode].allMarker = this.marker\r\n            this.cityMarkers[this.cityCode].riskArr = res.data.data.list\r\n            this.cityMarkers[this.cityCode].day14 = day14\r\n            this.cityMarkers[this.cityCode].day7 = day7\r\n          }\r\n      });\r\n    },\r\n    // 疫情最新消息\r\n    getNews(){\r\n      // 地区疫情数\r\n      this.getCityNum()\r\n      uni.request({\r\n          url: `https://i.snssdk.com/forum/ncov_data/`,\r\n          data:{\r\n            city_code: [this.cityCode],\r\n            data_type: [1],\r\n            src_type: 'local'\r\n          },\r\n          success: (res)=> {\r\n            // introduction\r\n            // this.newsShow = true\r\n            this.introductions = JSON.parse(res.data.ncov_city_data[this.cityCode])\r\n          }\r\n      })\r\n    },\r\n    // 地区详细确诊数\r\n    getCityNum(){\r\n      uni.request({\r\n          url: `https://i.snssdk.com/toutiao/normandy/pneumonia_trending/district_stat/?local_id=${this.cityCode}`,\r\n          success: (res)=> {\r\n            this.trending = res.data.data.list\r\n          }\r\n      })\r\n    },\r\n    // 点击气泡\r\n    markertap(e){\r\n      const poi = this.cityMarkers[this.cityCode].riskArr[e.detail.markerId].poi\r\n      // const poi = '116.497662,40.140719'\r\n      uni.request({\r\n          url: 'https://i.snssdk.com/toutiao/normandy/pneumonia_trending/poi/',\r\n          data:{\r\n            city_code: this.cityCode,\r\n            city_name: this.cityName,\r\n            search_current_poi: poi,\r\n            poi: poi,\r\n            activeWidget: 15,\r\n            show_poi_list: 1\r\n          },\r\n          success: (res)=> {\r\n            console.log(res.data.data.data);\r\n            // track_type 轨道等级 2为路过  1为确诊地点\r\n            // risk_level 风险等级 3为高风险  2位中风险  1为低风险   0为无风险地\r\n            this.riskInfo = res.data.data.data\r\n            this.showInfo = true\r\n            let str = ''\r\n            // 轨迹等级\r\n            switch (this.riskInfo.track_type) {\r\n              // 路过\r\n              case 2:\r\n                str = '轨迹点'\r\n                break;\r\n              // 确诊地\r\n              case 1:\r\n                str = '确诊地点'\r\n                break;\r\n              default:\r\n                str = '轨迹点'\r\n                break;\r\n            }\r\n            // 风险等级\r\n            switch (this.riskInfo.risk_level) {\r\n              case 0:\r\n                break;\r\n              case 1:\r\n                str = '低风险'\r\n                break;\r\n              case 2:\r\n                str = '中风险'\r\n                break;\r\n              case 3:\r\n                str = '高风险'\r\n                break;\r\n              default:\r\n                str = '轨迹点'\r\n                break;\r\n            }\r\n            this.riskType = str\r\n          }\r\n      })\r\n    },\r\n    // 插入标记数据\r\n    pushMarker(item, riskArr){\r\n      // 插入气泡\r\n      const styles = {\r\n        0: {\r\n          color: '#f6761c'\r\n        },\r\n        1: {\r\n          color: '#fa4630'\r\n        },\r\n        2: {\r\n          color: '#fa4630'\r\n        },\r\n        3: {\r\n          color: '#4f1202'\r\n        },\r\n        4: {\r\n          color: '#4f1202'\r\n        },\r\n      }\r\n      let o = {\r\n        content: '',\r\n        color: '#fff',\r\n        fontSize: 16,\r\n        padding: 10,\r\n        textAlign: 'center',\r\n        borderRadius: 20,\r\n        bgColor: '',\r\n        anchorX: '',\r\n        anchorY: ''\r\n      }\r\n      let locals = item.poi.split(',');\r\n      let iconImg;\r\n      // 轨迹等级\r\n      switch (item.track_type) {\r\n        // 路过\r\n        case 2:\r\n          iconImg = '../../static/imgs/pug.png'\r\n          break;\r\n        // 确诊地\r\n        case 1:\r\n          iconImg = '../../static/imgs/virus1.png'\r\n          break;\r\n        default:\r\n          iconImg = '../../static/imgs/map.png'\r\n          break;\r\n      }\r\n      // 风险等级\r\n      switch (item.risk_level) {\r\n        case 0:\r\n          break;\r\n        case 1:\r\n          iconImg = '../../static/imgs/virus1.png'\r\n          break;\r\n        case 2:\r\n          iconImg = '../../static/imgs/virus2.png'\r\n          break;\r\n        case 3:\r\n          iconImg = '../../static/imgs/virus3.png'\r\n          break;\r\n        default:\r\n          iconImg = '../../static/imgs/map.png'\r\n          break;\r\n      }\r\n      o.content = item.poi_name\r\n      o.bgColor = styles[item.risk_level].color\r\n      o.anchorX = 0\r\n      o.anchorY = 0\r\n      return {\r\n        id: riskArr.length,\r\n        width: 36,\r\n        height: 36,\r\n        latitude: locals[1],\r\n        longitude: locals[0],\r\n        iconPath: iconImg,\r\n        callout: o\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.content{\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  map{\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100vh;\r\n  }\r\n  .search{\r\n    position: absolute;\r\n    left: 40rpx;\r\n    top: 50rpx;\r\n    width: 650rpx;\r\n    height: 70rpx;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    background: #fff;\r\n    border-radius: 70rpx;\r\n    padding: 0 20rpx;\r\n    box-sizing: border-box;\r\n    button{\r\n      height: 70rpx;\r\n      background: #fff;\r\n      color: #333;\r\n      font-size: 28rpx;\r\n      &:after{\r\n        border: none;\r\n      }\r\n      &.selected{\r\n        color: #f6761c;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n  }\r\n  .cover-info{\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n    background: #fff;\r\n    width: 100%;\r\n    height: 50vh;\r\n    box-shadow: 0 1px 1px 1px #333;\r\n    overflow: hidden;\r\n    button{\r\n      &:after{\r\n        border: none;\r\n      }\r\n    }\r\n    .close{\r\n      position: absolute;\r\n      right: 10rpx;\r\n      top: 10rpx;\r\n      width: 60rpx;\r\n      height: 60rpx;\r\n      background: url('../../static/imgs/close.png') no-repeat 50% 50%;\r\n      background-size: 30rpx 30rpx;\r\n      outline: none;\r\n      border: none;\r\n      z-index: 3;\r\n    }\r\n    .tabs{\r\n      position: absolute;\r\n      top: 10rpx;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      height: 60rpx;\r\n      width: 400rpx;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      z-index: 4;\r\n      button{\r\n        width: 160rpx;\r\n        font-size: 28rpx;\r\n        height: 60rpx;\r\n        line-height: 60rpx;\r\n        color: #666;\r\n        &.selected{\r\n          background: #71d5a1;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n    .content{\r\n      box-sizing: border-box;\r\n      width: 100%;\r\n      height: 50vh;\r\n      padding: 80rpx 20rpx 20rpx;\r\n      overflow-y: scroll;\r\n      .h1-title{\r\n        line-height: 50rpx;\r\n        font-size: 30rpx;\r\n        font-weight: bold;\r\n        color: #000;\r\n        margin-bottom: 10rpx;\r\n        white-space:pre-wrap;\r\n        margin-bottom: 30rpx;\r\n      }\r\n      .hine{\r\n        line-height: 40rpx;\r\n        font-size: 24rpx;\r\n        color: #999;\r\n        margin-bottom: 20rpx;\r\n      }\r\n      .introduction{\r\n        padding: 20rpx;\r\n        border-radius: 20rpx;\r\n        background: #f5f5f5;\r\n        line-height: 46rpx;\r\n        font-size: 28rpx;\r\n        white-space:pre-wrap;\r\n        margin-bottom: 20rpx;\r\n        .zone{\r\n          line-height: 46rpx;\r\n          font-size: 30rpx;\r\n          color: #000;\r\n          font-weight: bold;\r\n          margin-bottom: 10rpx;\r\n        }\r\n        .treat{\r\n          font-size: 26rpx;\r\n          line-height: 36rpx;\r\n          color: #fa4630;\r\n        }\r\n      }\r\n      .confirmed-view{\r\n        display: flex;\r\n        font-size: 30rpx;\r\n        line-height: 60rpx;\r\n        height: 60rpx;\r\n        margin-bottom: 10rpx;\r\n        border-radius: 10rpx;\r\n        .city-name{\r\n          padding-left: 20rpx;\r\n          font-size: 30rpx;\r\n          line-height: 60rpx;\r\n          color: #000;\r\n          flex-grow: 1;\r\n          background: #f5f5f5;\r\n        }\r\n        .confirmed{\r\n          box-sizing: border-box;\r\n          padding-left: 20rpx;\r\n          width: 200rpx;\r\n          line-height: 60rpx;\r\n          background: rgb(247, 232, 234);\r\n          color: rgb(174, 33, 44);\r\n        }\r\n        .new-num{\r\n          box-sizing: border-box;\r\n          padding-left: 20rpx;\r\n          width: 200rpx;\r\n          line-height: 60rpx;\r\n          background: rgb(252, 236, 233);\r\n          color: rgb(230, 68, 38)\r\n        }\r\n      }\r\n      .header{\r\n        padding: 10rpx 20rpx 30rpx;\r\n        border-bottom: 1rpx solid #eee;\r\n        .h1{\r\n          display: flex;\r\n          align-items: center;\r\n          line-height: 50rpx;\r\n          font-size: 30rpx;\r\n          font-weight: bold;\r\n          color: #000;\r\n          margin-bottom: 10rpx;\r\n          white-space:pre-wrap;\r\n          .mark{\r\n            background: #fa4630;\r\n            color: #fff;\r\n            font-size: 24rpx;\r\n            line-height: 36rpx;\r\n            padding: 0 10rpx;\r\n            border-radius: 8rpx;\r\n            margin-left: 14rpx;\r\n          }\r\n        }\r\n        .h3{\r\n          line-height: 40rpx;\r\n          font-size: 28rpx;\r\n          color: #666;\r\n          white-space:pre-wrap;\r\n        }\r\n      }\r\n      .ul{\r\n        padding: 20rpx 20rpx 40rpx;\r\n        .title-no{\r\n          width: 110rpx;\r\n          padding: 0 10rpx;\r\n          font-size: 24rpx;\r\n          line-height: 44rpx;\r\n          color: #ff9158;\r\n          background: #fff7f2;\r\n          border-radius: 4rpx;\r\n          text-align: center;\r\n        }\r\n        .title{\r\n          display: flex;\r\n          align-items: center;\r\n          font-size: 24rpx;\r\n          line-height: 36rpx;\r\n          padding-bottom: 10rpx;\r\n          color: #666;\r\n          .manlen{\r\n            font-size: 24rpx;\r\n            font-weight: bold;\r\n            line-height: 36rpx;\r\n            color: #333;\r\n            font-weight: bold;\r\n            padding: 0 3rpx;\r\n          }\r\n        }\r\n        .li{\r\n          margin-bottom: 20rpx;\r\n          .man-info{\r\n            font-size: 30rpx;\r\n            font-weight: bold;\r\n            line-height: 50rpx;\r\n            color: #333;\r\n          }\r\n          .p{\r\n            line-height: 36rpx;\r\n            font-size: 24rpx;\r\n            color: #666;\r\n            padding: 10rpx 0;\r\n            white-space:pre-wrap;\r\n          }\r\n          .track-list{\r\n            padding: 20rpx;\r\n            border-radius: 20rpx;\r\n            background: #f5f5f5;\r\n            .track{\r\n              padding: 10rpx 0 18rpx;\r\n              line-height: 46rpx;\r\n              font-size: 28rpx;\r\n              color: #666;\r\n              white-space:pre-wrap;\r\n              .timer{\r\n                display: inline;\r\n                color: #333;\r\n                font-weight: bold;\r\n                line-height: 40rpx;\r\n              }\r\n              &:last-child{\r\n                border: none;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .nothing{\r\n        padding: 100rpx 0;\r\n        text-align: center;\r\n        color: #666;\r\n        font-size: 30rpx;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1610683532822\n      var cssReload = require(\"/Users/houyaohui/wwwroot/My-work/小程序开发/2019nCoV/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}